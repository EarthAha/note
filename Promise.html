<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Promise</title>
</head>
<body>
什么是Promise
为什么要使用Promise
Promise怎么用
Promise原理是怎么实现的








new Promise(fn1).then(fn2).then(fn3)
fn1, fn2, fn3的函数具体可参看最前面的定义。

1. 首先我们创建了一个Promise实例，这里叫做promise1；接着会运行fn1(resolve);
2. 但是fn1中有一个setTimeout函数，于是就会先跳过这一部分，运行后面的第一个then方法；
3. then返回一个新的对象promise2, promise2对象的resolve方法和then方法中的回调函数fn2都被封装在handle中，然后handle被
4. 接着运行第二个then方法，同样返回一个新的对象promise3，包含promise3的resolve方法和回调函数fn3的handle方法被添加到
5. 到此两个then运行结束，setTimeout中的延迟时间一到，就会调用promise1的resolve方法。
6. resolve方法的执行，会调用promise1._resolves数组中的回调，之前我们添加的handle方法就会被执行；也就是fn2和promise2的
7. 以此类推，fn3会和promise3的resolve方法一起执行，因为后面没有then方法了，promise3._resolves数组是空的。
8. 至此所有回调执行结束。
</body>
</html>